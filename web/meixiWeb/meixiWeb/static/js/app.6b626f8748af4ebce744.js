webpackJsonp([1],{"3Hro":function(t,e){},Cx7O:function(t,e){},N27K:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("xd7I"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=n("C7Lr")({name:"App"},i,!1,function(t){n("cCdB")},null,null).exports,o=n("ZWLj"),r=n("3cXf"),l=n.n(r),c=n("rVsN"),u=n.n(c),d=n("Muz9"),h=n.n(d),v=n("uhhu"),p=n.n(v),m=(n("dlBR"),{url:"/api/",api:{owenrUser:"owenrUser",numPage:"numPage",vipDetail:"vipDetail",business:"business",index:"index"}});h.a.interceptors.request.use(function(t){var e=localStorage.getItem("nameId");return e&&(t.headers.token=e),t},function(t){return u.a.reject(t)}),h.a.interceptors.response.use(function(t){return t},function(t){return 401==t.response.status&&(p()("请重新登录"),T.replace("/")),u.a.reject(t)});var f={created:function(){this.phoneHeight=window.screen.height+"px",this.autoLogin()},data:function(){return{phoneHeight:null,name:null,room:null}},methods:{loginBtn:function(){var t=this;this.$http.post(m.url+m.api.owenrUser,{name:this.name,room:this.room}).then(function(e){if(t.$toast(e.data.message),1==e.data.success){var n=l()(e.data.data[0]);console.log(n);l()(e.data.token);localStorage.setItem("nameId",e.data.token),localStorage.setItem("userInfo",n),t.$router.replace("Index")}})},autoLogin:function(){var t=this;this.$http.post(m.url+m.api.index).then(function(e){1==e.data.success&&t.$router.replace("Index")})}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column-flex-center  userBox",style:{height:t.phoneHeight}},[n("div",{staticClass:"column-flex-center nameRoom"},[n("div",{staticClass:"name row-flex-start"},[n("div",{staticClass:"nameBackColor"}),t._v(" "),n("van-image",{staticClass:"nameIcon",attrs:{width:"30",height:"30",src:"./static/image/nameIcon.png"}}),t._v(" "),n("h1",[t._v("姓名")]),t._v(" "),n("van-field",{attrs:{placeholder:"请输入业主姓名，只需填一位"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),n("div",{staticClass:"room row-flex-start"},[n("div",{staticClass:"roomBackColor"}),t._v(" "),n("van-image",{staticClass:"roomIcon",attrs:{width:"35",height:"35",src:"./static/image/roomIcon.png"}}),t._v(" "),n("h1",[t._v("房号")]),t._v(" "),n("van-field",{attrs:{placeholder:"请输入业主名下任意一个房号"},model:{value:t.room,callback:function(e){t.room=e},expression:"room"}})],1)]),t._v(" "),n("div",{staticClass:"loginBtn row-flex-center",on:{click:t.loginBtn}},[n("button",[t._v("登录")])])])},staticRenderFns:[]},_=n("C7Lr")(f,g,!1,null,null,null).exports,x=n("6q1c"),w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tabar"},[n("van-tabbar",{attrs:{route:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{to:"/Index",name:"home",icon:"vip-card"}},[t._v("首页")]),t._v(" "),n("van-tabbar-item",{attrs:{to:"/Business",name:"friends",icon:"friends"}},[t._v("合作商家")])],1)],1)])},staticRenderFns:[]},b=n("C7Lr")({data:function(){return{active:"home"}},methods:{}},w,!1,null,null,null).exports,C={created:function(){var t=window.screen.height;this.wrapHeight=t-50,this.momHeight=window.screen.height+300},mounted:function(){this.getData()},data:function(){return{vipCard:null,whichBox:["discountBox","useTimeBox","phoneBox","useKnowBox"],dataList:null,discount:["discount","useTime","phone","useKnow"],flex:["column-flex-start","column-flex-center","column-flex-center","column-flex-start"],carId:null,bs:null,wrapHeight:null,momHeight:null}},methods:{getData:function(){var t=this;this.$http.post(m.url+m.api.vipDetail).then(function(e){var n=e.data.data;n[1].know[0].content=n[1].know[0].content.split("、"),n[1].know[3].content=n[1].know[3].content.split(";"),t.dataList=n[1].know,t.vipCard=n[0].url;var s=JSON.parse(localStorage.getItem("userInfo"));t.carId=s.id,t.$nextTick(function(){this.init(),this.bs&&this.bs.refresh()})})},init:function(){this.bs=new x.a(this.$refs.scroll,{scrollY:!0,click:!0,probeType:3})}},components:{Tabar:b}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"core-container"},[n("div",{ref:"scroll",staticClass:"wrap",style:{height:t.wrapHeight+"px"}},[n("ul",{ref:"mom",staticClass:"mom"},[n("li",{staticClass:"vipCard row-flex-center"},[n("van-image",{attrs:{src:t.vipCard}}),t._v(" "),n("span",{staticClass:"cardId"},[t._v("No."+t._s(t.carId))])],1),t._v(" "),n("li",{staticClass:"vipContent column-flex-start"},[n("h1",[t._v("会员须知")]),t._v(" "),n("div",{staticClass:"shu"},[n("van-image",{staticClass:"shuIcon",attrs:{src:"./static/image/shu.png"}})],1),t._v(" "),t._l(t.dataList,function(e,s){return n("div",{key:e._id,class:t.whichBox[s]},[n("div",{staticClass:"talkbubble row-flex-center"},[n("h1",[t._v(t._s(e.name))])]),t._v(" "),n("div",{class:[t.discount[s],t.flex[s]]},[0==s?n("div",t._l(e.content,function(e){return n("p",[t._v(t._s(e))])}),0):t._e(),t._v(" "),3==s?n("div",t._l(e.content,function(e){return n("p",[t._v(t._s(e))])}),0):t._e(),t._v(" "),1==s||2==s?n("div",[n("p",[t._v(t._s(e.content))])]):t._e()])])})],2)])]),t._v(" "),n("Tabar",{ref:"tobar"})],1)},staticRenderFns:[]},B=n("C7Lr")(C,k,!1,null,null,null).exports,I={created:function(){this.phoneHeight=window.screen.height+"px",this.getData()},data:function(){return{phoneHeight:null,introduceList:null,discountDetailList:null,headImage:null,headDiscount:null}},methods:{back:function(){this.$router.go(-1)},getData:function(){var t=this.$route.query;this.introduceList=t.explain.split(";"),this.discountDetailList=t.detial.split("。"),this.headImage=t.businessHead[0].url,this.headDiscount=t.discount}}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detailBox",style:{height:t.phoneHeight}},[n("div",{staticClass:"headImage"},[n("i",{staticClass:"iconfont icon-return back",on:{click:t.back}}),t._v(" "),n("p",{staticClass:"vipDiscount"},[n("i",{staticClass:"iconfont icon-xingxing"}),t._v(t._s(t.headDiscount))]),t._v(" "),n("van-image",{attrs:{src:t.headImage}})],1),t._v(" "),n("div",{staticClass:"introduce column-flex-start"},t._l(t.introduceList,function(e,s){return n("p",{key:s},[t._v(t._s(e))])}),0),t._v(" "),n("div",{staticClass:"discountDetail"},[n("h1",[t._v("【优惠详情】")]),t._v(" "),t._l(t.discountDetailList,function(e,s){return n("p",{key:s},[n("i",{staticClass:"circular"},[t._v(t._s(s+1))]),t._v(t._s(e))])})],2)])},staticRenderFns:[]},y=n("C7Lr")(I,D,!1,null,null,null).exports,L={created:function(){this.getData()},mounted:function(){this.businessBoxHeigth=window.screen.height},data:function(){return{businessBoxHeigth:null,bs:null,logoWidth:null,logoWall:null,show:!0}},methods:{getData:function(){var t=this;this.$http.post(m.url+m.api.business).then(function(e){var n=e.data.LogoList;n.length>3?t.logoWidth=100*n.length:t.logoWidth="auto",t.logoWall=n,t.$nextTick(function(){this.init(),this.bs&&this.bs.refresh()}),console.log(n),t.show=!1})},init:function(){this.bs=new x.a(this.$refs.scroll,{scrollX:!0,click:!0,probeType:3})},intoDetail:function(t){var e=this;this.$http.post(m.url+m.api.business,{id:t}).then(function(t){var n=t.data.data[0];e.$router.push({path:"/BusinessDetail",query:n})})}},components:{Tabar:b}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"businessBox",style:{height:t.businessBoxHeigth+"px"}},[n("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}}),t._v(" "),n("div",{staticClass:"businessSwiper"},[n("van-swipe",{attrs:{autoplay:3e3,"indicator-color":"white"}},[n("van-swipe-item",[n("van-image",{staticStyle:{display:"block"},attrs:{src:"./static/image/swiper.png"}})],1)],1),t._v(" "),n("div",{ref:"scroll",staticClass:"wrap"},[n("div",{staticClass:"businessLogo row-flex-center",style:{width:t.logoWidth+"px"}},t._l(t.logoWall,function(e,s){return n("van-image",{key:s,attrs:{width:"100",height:"100",src:e.businessUrl[0].url},on:{click:function(n){return t.intoDetail(e._id)}}})}),1)])],1),t._v(" "),n("Tabar")],1)},staticRenderFns:[]},H=n("C7Lr")(L,$,!1,null,null,null).exports;s.default.use(o.a);var T=new o.a({base:"/meixiweb/",routes:[{path:"/",name:"User",component:_},{path:"/Index",name:"Index",component:B},{path:"/Business",name:"Business",component:H},{path:"/BusinessDetail",name:"BusinessDetail",component:y}]}),W=n("3khs"),N=n.n(W),E=n("DNQi");n("Cx7O"),n("px30"),n("NYWk");s.default.use(N.a,h.a),s.default.use(E.b).use(E.c).use(E.j).use(E.e).use(E.a).use(E.h).use(E.i).use(E.f).use(E.g).use(E.d),s.default.config.productionTip=!1,new s.default({mounted:function(){var t=document.documentElement.clientWidth||document.body.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=t/20+"px"},el:"#app",router:T,components:{App:a},template:"<App/>"})},NYWk:function(t,e){},UMi0:function(t,e){},cCdB:function(t,e){},px30:function(t,e){},xPhe:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6b626f8748af4ebce744.js.map